'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _vue=require('vue'),_vue2=_interopRequireDefault(_vue);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}exports.default={install:function k(a,b){var c=function(a){return'IMG'===a.tagName?a:(a.image=new Image,a.image)},d=function(a){for(var b=0;b<a.length;b++)a[b].isIntersecting&&g(a[b].target,a[b].target.source)},e=function(a){'VIDEO'===a.tagName?a.poster=a.source:'IMG'!==a.tagName&&(a.style.backgroundImage='url('+a.source+')'),a.classList.add('loaded'),j.unobserve(a)},f=function(a){a.classList.remove('loaded'),j.observe(a)},g=function(a,b){return'IMG'===a.tagName?void(a.src=b):void(a.image.src=b)},h={root:null,rootMargin:'0px',threshold:[0,1]},i=!('IntersectionObserver'in window)||!('IntersectionObserverEntry'in window)||!('intersectionRatio'in window.IntersectionObserverEntry.prototype),j=i?function a(){return{observe:function b(a){g(a,a.source)},unobserve:function a(){}}}():new IntersectionObserver(d,b||h);a.directive('lazy',{inserted:function f(a,b){var d=c(a);a.source=b.value,a.classList.add('lazy'),j.observe(a),d.onload=function(){e(a)}},update:function c(a,b){a.source===b.value||(a.source=b.value,f(a))},unbind:function b(a){a.image&&(a.image=null)}}),a.prototype.$vll={observer:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a){var b=Object.assign({},h);Object.assign(b,a),j=new IntersectionObserver(d,b)})}}};
